Traceback (most recent call last):
  File "/Users/KSIsleif/opt/anaconda3/lib/python3.9/site-packages/jupyter_cache/executors/utils.py", line 58, in single_nb_execution
    executenb(
  File "/Users/KSIsleif/opt/anaconda3/lib/python3.9/site-packages/nbclient/client.py", line 1204, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
  File "/Users/KSIsleif/opt/anaconda3/lib/python3.9/site-packages/nbclient/util.py", line 84, in wrapped
    return just_run(coro(*args, **kwargs))
  File "/Users/KSIsleif/opt/anaconda3/lib/python3.9/site-packages/nbclient/util.py", line 62, in just_run
    return loop.run_until_complete(coro)
  File "/Users/KSIsleif/opt/anaconda3/lib/python3.9/asyncio/base_events.py", line 647, in run_until_complete
    return future.result()
  File "/Users/KSIsleif/opt/anaconda3/lib/python3.9/site-packages/nbclient/client.py", line 663, in async_execute
    await self.async_execute_cell(
  File "/Users/KSIsleif/opt/anaconda3/lib/python3.9/site-packages/nbclient/client.py", line 965, in async_execute_cell
    await self._check_raise_for_error(cell, cell_index, exec_reply)
  File "/Users/KSIsleif/opt/anaconda3/lib/python3.9/site-packages/nbclient/client.py", line 862, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
%matplotlib notebook
import numpy as np
import matplotlib.pyplot as plt
import matplotlib.animation as animation
from IPython.display import HTML
# MatplotLib Settings:
plt.style.use('default') # Matplotlib Style wÃ¤hlen
plt.xkcd()
plt.rcParams['font.size'] = 10; # SchriftgrÃ¶ÃŸe

fig, ax = plt.subplots(figsize=(5,3))

A_1 = 1.0
A_2 = 1.0
f_het = 10e3
phase = 0
t = np.linspace(0, 0.5e-3, num=10000)

x = np.arange(0, 2*np.pi, 0.01)
line, = ax.plot(t*1e3, A_1 * A_2 * np.sin(2*np.pi*f_het * t), color='tab:red')
ax.set_xlabel('Zeit (ms)')
ax.set_ylabel('Photostrom (a.u.)')
ax.set_title('Oszilloskop: ')
num = 51
tTM = np.linspace(0,2*np.pi , num=num)
xTM = np.cos(tTM)

def animate(i):
    line.set_ydata(A_1 * A_2 * np.sin(2*np.pi*f_het * t + xTM[i]))  # update the data.
    return line,


ani = animation.FuncAnimation(
    fig, animate, interval=40, blit=True, save_count=num)

# To save the animation, use e.g.
#
# ani.save("movie.mp4")
#
# or
#
# writer = animation.FFMpegWriter(
#     fps=15, metadata=dict(artist='Me'), bitrate=1800)
# ani.save("movie.mp4", writer=writer)
plt.tight_layout()
plt.close()
HTML(ani.to_jshtml())

------------------

[0;31m---------------------------------------------------------------------------[0m
[0;31mAttributeError[0m                            Traceback (most recent call last)
Cell [0;32mIn[2], line 11[0m
[1;32m      8[0m plt[38;5;241m.[39mxkcd()
[1;32m      9[0m plt[38;5;241m.[39mrcParams[[38;5;124m'[39m[38;5;124mfont.size[39m[38;5;124m'[39m] [38;5;241m=[39m [38;5;241m10[39m; [38;5;66;03m# SchriftgrÃ¶ÃŸe[39;00m
[0;32m---> 11[0m fig, ax [38;5;241m=[39m [43mplt[49m[38;5;241;43m.[39;49m[43msubplots[49m[43m([49m[43mfigsize[49m[38;5;241;43m=[39;49m[43m([49m[38;5;241;43m5[39;49m[43m,[49m[38;5;241;43m3[39;49m[43m)[49m[43m)[49m
[1;32m     13[0m A_1 [38;5;241m=[39m [38;5;241m1.0[39m
[1;32m     14[0m A_2 [38;5;241m=[39m [38;5;241m1.0[39m

File [0;32m~/opt/anaconda3/lib/python3.9/site-packages/matplotlib/pyplot.py:1598[0m, in [0;36msubplots[0;34m(nrows, ncols, sharex, sharey, squeeze, width_ratios, height_ratios, subplot_kw, gridspec_kw, **fig_kw)[0m
[1;32m   1444[0m [38;5;28;01mdef[39;00m [38;5;21msubplots[39m(
[1;32m   1445[0m     nrows: [38;5;28mint[39m [38;5;241m=[39m [38;5;241m1[39m, ncols: [38;5;28mint[39m [38;5;241m=[39m [38;5;241m1[39m, [38;5;241m*[39m,
[1;32m   1446[0m     sharex: [38;5;28mbool[39m [38;5;241m|[39m Literal[[38;5;124m"[39m[38;5;124mnone[39m[38;5;124m"[39m, [38;5;124m"[39m[38;5;124mall[39m[38;5;124m"[39m, [38;5;124m"[39m[38;5;124mrow[39m[38;5;124m"[39m, [38;5;124m"[39m[38;5;124mcol[39m[38;5;124m"[39m] [38;5;241m=[39m [38;5;28;01mFalse[39;00m,
[0;32m   (...)[0m
[1;32m   1453[0m     [38;5;241m*[39m[38;5;241m*[39mfig_kw
[1;32m   1454[0m ) [38;5;241m-[39m[38;5;241m>[39m [38;5;28mtuple[39m[Figure, Any]:
[1;32m   1455[0m [38;5;250m    [39m[38;5;124;03m"""[39;00m
[1;32m   1456[0m [38;5;124;03m    Create a figure and a set of subplots.[39;00m
[1;32m   1457[0m 
[0;32m   (...)[0m
[1;32m   1596[0m 
[1;32m   1597[0m [38;5;124;03m    """[39;00m
[0;32m-> 1598[0m     fig [38;5;241m=[39m [43mfigure[49m[43m([49m[38;5;241;43m*[39;49m[38;5;241;43m*[39;49m[43mfig_kw[49m[43m)[49m
[1;32m   1599[0m     axs [38;5;241m=[39m fig[38;5;241m.[39msubplots(nrows[38;5;241m=[39mnrows, ncols[38;5;241m=[39mncols, sharex[38;5;241m=[39msharex, sharey[38;5;241m=[39msharey,
[1;32m   1600[0m                        squeeze[38;5;241m=[39msqueeze, subplot_kw[38;5;241m=[39msubplot_kw,
[1;32m   1601[0m                        gridspec_kw[38;5;241m=[39mgridspec_kw, height_ratios[38;5;241m=[39mheight_ratios,
[1;32m   1602[0m                        width_ratios[38;5;241m=[39mwidth_ratios)
[1;32m   1603[0m     [38;5;28;01mreturn[39;00m fig, axs

File [0;32m~/opt/anaconda3/lib/python3.9/site-packages/matplotlib/pyplot.py:934[0m, in [0;36mfigure[0;34m(num, figsize, dpi, facecolor, edgecolor, frameon, FigureClass, clear, **kwargs)[0m
[1;32m    924[0m [38;5;28;01mif[39;00m [38;5;28mlen[39m(allnums) [38;5;241m==[39m max_open_warning [38;5;241m>[39m[38;5;241m=[39m [38;5;241m1[39m:
[1;32m    925[0m     _api[38;5;241m.[39mwarn_external(
[1;32m    926[0m         [38;5;124mf[39m[38;5;124m"[39m[38;5;124mMore than [39m[38;5;132;01m{[39;00mmax_open_warning[38;5;132;01m}[39;00m[38;5;124m figures have been opened. [39m[38;5;124m"[39m
[1;32m    927[0m         [38;5;124mf[39m[38;5;124m"[39m[38;5;124mFigures created through the pyplot interface [39m[38;5;124m"[39m
[0;32m   (...)[0m
[1;32m    931[0m         [38;5;124mf[39m[38;5;124m"[39m[38;5;124mConsider using `matplotlib.pyplot.close()`.[39m[38;5;124m"[39m,
[1;32m    932[0m         [38;5;167;01mRuntimeWarning[39;00m)
[0;32m--> 934[0m manager [38;5;241m=[39m [43mnew_figure_manager[49m[43m([49m
[1;32m    935[0m [43m    [49m[43mnum[49m[43m,[49m[43m [49m[43mfigsize[49m[38;5;241;43m=[39;49m[43mfigsize[49m[43m,[49m[43m [49m[43mdpi[49m[38;5;241;43m=[39;49m[43mdpi[49m[43m,[49m
[1;32m    936[0m [43m    [49m[43mfacecolor[49m[38;5;241;43m=[39;49m[43mfacecolor[49m[43m,[49m[43m [49m[43medgecolor[49m[38;5;241;43m=[39;49m[43medgecolor[49m[43m,[49m[43m [49m[43mframeon[49m[38;5;241;43m=[39;49m[43mframeon[49m[43m,[49m
[1;32m    937[0m [43m    [49m[43mFigureClass[49m[38;5;241;43m=[39;49m[43mFigureClass[49m[43m,[49m[43m [49m[38;5;241;43m*[39;49m[38;5;241;43m*[39;49m[43mkwargs[49m[43m)[49m
[1;32m    938[0m fig [38;5;241m=[39m manager[38;5;241m.[39mcanvas[38;5;241m.[39mfigure
[1;32m    939[0m [38;5;28;01mif[39;00m fig_label:

File [0;32m~/opt/anaconda3/lib/python3.9/site-packages/matplotlib/pyplot.py:465[0m, in [0;36mnew_figure_manager[0;34m(*args, **kwargs)[0m
[1;32m    463[0m [38;5;250m[39m[38;5;124;03m"""Create a new figure manager instance."""[39;00m
[1;32m    464[0m _warn_if_gui_out_of_main_thread()
[0;32m--> 465[0m [38;5;28;01mreturn[39;00m [43m_get_backend_mod[49m[43m([49m[43m)[49m[38;5;241;43m.[39;49m[43mnew_figure_manager[49m[43m([49m[38;5;241;43m*[39;49m[43margs[49m[43m,[49m[43m [49m[38;5;241;43m*[39;49m[38;5;241;43m*[39;49m[43mkwargs[49m[43m)[49m

File [0;32m~/opt/anaconda3/lib/python3.9/site-packages/matplotlib/backend_bases.py:3396[0m, in [0;36m_Backend.new_figure_manager[0;34m(cls, num, *args, **kwargs)[0m
[1;32m   3394[0m fig_cls [38;5;241m=[39m kwargs[38;5;241m.[39mpop([38;5;124m'[39m[38;5;124mFigureClass[39m[38;5;124m'[39m, Figure)
[1;32m   3395[0m fig [38;5;241m=[39m fig_cls([38;5;241m*[39margs, [38;5;241m*[39m[38;5;241m*[39mkwargs)
[0;32m-> 3396[0m [38;5;28;01mreturn[39;00m [38;5;28;43mcls[39;49m[38;5;241;43m.[39;49m[43mnew_figure_manager_given_figure[49m[43m([49m[43mnum[49m[43m,[49m[43m [49m[43mfig[49m[43m)[49m

File [0;32m~/opt/anaconda3/lib/python3.9/site-packages/matplotlib/backend_bases.py:3401[0m, in [0;36m_Backend.new_figure_manager_given_figure[0;34m(cls, num, figure)[0m
[1;32m   3398[0m [38;5;129m@classmethod[39m
[1;32m   3399[0m [38;5;28;01mdef[39;00m [38;5;21mnew_figure_manager_given_figure[39m([38;5;28mcls[39m, num, figure):
[1;32m   3400[0m [38;5;250m    [39m[38;5;124;03m"""Create a new figure manager instance for the given figure."""[39;00m
[0;32m-> 3401[0m     [38;5;28;01mreturn[39;00m [38;5;28;43mcls[39;49m[38;5;241;43m.[39;49m[43mFigureCanvas[49m[38;5;241;43m.[39;49m[43mnew_manager[49m[43m([49m[43mfigure[49m[43m,[49m[43m [49m[43mnum[49m[43m)[49m

File [0;32m~/opt/anaconda3/lib/python3.9/site-packages/matplotlib/backend_bases.py:1785[0m, in [0;36mFigureCanvasBase.new_manager[0;34m(cls, figure, num)[0m
[1;32m   1774[0m [38;5;129m@classmethod[39m
[1;32m   1775[0m [38;5;28;01mdef[39;00m [38;5;21mnew_manager[39m([38;5;28mcls[39m, figure, num):
[1;32m   1776[0m [38;5;250m    [39m[38;5;124;03m"""[39;00m
[1;32m   1777[0m [38;5;124;03m    Create a new figure manager for *figure*, using this canvas class.[39;00m
[1;32m   1778[0m 
[0;32m   (...)[0m
[1;32m   1783[0m [38;5;124;03m    ``FigureManager.create_with_canvas``.[39;00m
[1;32m   1784[0m [38;5;124;03m    """[39;00m
[0;32m-> 1785[0m     [38;5;28;01mreturn[39;00m [38;5;28;43mcls[39;49m[38;5;241;43m.[39;49m[43mmanager_class[49m[38;5;241;43m.[39;49m[43mcreate_with_canvas[49m[43m([49m[38;5;28;43mcls[39;49m[43m,[49m[43m [49m[43mfigure[49m[43m,[49m[43m [49m[43mnum[49m[43m)[49m

File [0;32m~/opt/anaconda3/lib/python3.9/site-packages/matplotlib/backends/backend_nbagg.py:74[0m, in [0;36mFigureManagerNbAgg.create_with_canvas[0;34m(cls, canvas_class, figure, num)[0m
[1;32m     71[0m [38;5;129m@classmethod[39m
[1;32m     72[0m [38;5;28;01mdef[39;00m [38;5;21mcreate_with_canvas[39m([38;5;28mcls[39m, canvas_class, figure, num):
[1;32m     73[0m     canvas [38;5;241m=[39m canvas_class(figure)
[0;32m---> 74[0m     manager [38;5;241m=[39m [38;5;28;43mcls[39;49m[43m([49m[43mcanvas[49m[43m,[49m[43m [49m[43mnum[49m[43m)[49m
[1;32m     75[0m     [38;5;28;01mif[39;00m is_interactive():
[1;32m     76[0m         manager[38;5;241m.[39mshow()

File [0;32m~/opt/anaconda3/lib/python3.9/site-packages/matplotlib/backends/backend_nbagg.py:69[0m, in [0;36mFigureManagerNbAgg.__init__[0;34m(self, canvas, num)[0m
[1;32m     67[0m [38;5;28;01mdef[39;00m [38;5;21m__init__[39m([38;5;28mself[39m, canvas, num):
[1;32m     68[0m     [38;5;28mself[39m[38;5;241m.[39m_shown [38;5;241m=[39m [38;5;28;01mFalse[39;00m
[0;32m---> 69[0m     [38;5;28;43msuper[39;49m[43m([49m[43m)[49m[38;5;241;43m.[39;49m[38;5;21;43m__init__[39;49m[43m([49m[43mcanvas[49m[43m,[49m[43m [49m[43mnum[49m[43m)[49m

File [0;32m~/opt/anaconda3/lib/python3.9/site-packages/matplotlib/backends/backend_webagg_core.py:432[0m, in [0;36mFigureManagerWebAgg.__init__[0;34m(self, canvas, num)[0m
[1;32m    430[0m [38;5;28;01mdef[39;00m [38;5;21m__init__[39m([38;5;28mself[39m, canvas, num):
[1;32m    431[0m     [38;5;28mself[39m[38;5;241m.[39mweb_sockets [38;5;241m=[39m [38;5;28mset[39m()
[0;32m--> 432[0m     [38;5;28;43msuper[39;49m[43m([49m[43m)[49m[38;5;241;43m.[39;49m[38;5;21;43m__init__[39;49m[43m([49m[43mcanvas[49m[43m,[49m[43m [49m[43mnum[49m[43m)[49m

File [0;32m~/opt/anaconda3/lib/python3.9/site-packages/matplotlib/backend_bases.py:2654[0m, in [0;36mFigureManagerBase.__init__[0;34m(self, canvas, num)[0m
[1;32m   2649[0m [38;5;28mself[39m[38;5;241m.[39mtoolmanager [38;5;241m=[39m (ToolManager(canvas[38;5;241m.[39mfigure)
[1;32m   2650[0m                     [38;5;28;01mif[39;00m mpl[38;5;241m.[39mrcParams[[38;5;124m'[39m[38;5;124mtoolbar[39m[38;5;124m'[39m] [38;5;241m==[39m [38;5;124m'[39m[38;5;124mtoolmanager[39m[38;5;124m'[39m
[1;32m   2651[0m                     [38;5;28;01melse[39;00m [38;5;28;01mNone[39;00m)
[1;32m   2652[0m [38;5;28;01mif[39;00m (mpl[38;5;241m.[39mrcParams[[38;5;124m"[39m[38;5;124mtoolbar[39m[38;5;124m"[39m] [38;5;241m==[39m [38;5;124m"[39m[38;5;124mtoolbar2[39m[38;5;124m"[39m
[1;32m   2653[0m         [38;5;129;01mand[39;00m [38;5;28mself[39m[38;5;241m.[39m_toolbar2_class):
[0;32m-> 2654[0m     [38;5;28mself[39m[38;5;241m.[39mtoolbar [38;5;241m=[39m [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43m_toolbar2_class[49m[43m([49m[38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43mcanvas[49m[43m)[49m
[1;32m   2655[0m [38;5;28;01melif[39;00m (mpl[38;5;241m.[39mrcParams[[38;5;124m"[39m[38;5;124mtoolbar[39m[38;5;124m"[39m] [38;5;241m==[39m [38;5;124m"[39m[38;5;124mtoolmanager[39m[38;5;124m"[39m
[1;32m   2656[0m         [38;5;129;01mand[39;00m [38;5;28mself[39m[38;5;241m.[39m_toolmanager_toolbar_class):
[1;32m   2657[0m     [38;5;28mself[39m[38;5;241m.[39mtoolbar [38;5;241m=[39m [38;5;28mself[39m[38;5;241m.[39m_toolmanager_toolbar_class([38;5;28mself[39m[38;5;241m.[39mtoolmanager)

File [0;32m~/opt/anaconda3/lib/python3.9/site-packages/matplotlib/backends/backend_webagg_core.py:392[0m, in [0;36mNavigationToolbar2WebAgg.__init__[0;34m(self, canvas)[0m
[1;32m    390[0m [38;5;28;01mdef[39;00m [38;5;21m__init__[39m([38;5;28mself[39m, canvas):
[1;32m    391[0m     [38;5;28mself[39m[38;5;241m.[39mmessage [38;5;241m=[39m [38;5;124m'[39m[38;5;124m'[39m
[0;32m--> 392[0m     [38;5;28;43msuper[39;49m[43m([49m[43m)[49m[38;5;241;43m.[39;49m[38;5;21;43m__init__[39;49m[43m([49m[43mcanvas[49m[43m)[49m

File [0;32m~/opt/anaconda3/lib/python3.9/site-packages/matplotlib/backend_bases.py:2844[0m, in [0;36mNavigationToolbar2.__init__[0;34m(self, canvas)[0m
[1;32m   2842[0m [38;5;28mself[39m[38;5;241m.[39mcanvas [38;5;241m=[39m canvas
[1;32m   2843[0m canvas[38;5;241m.[39mtoolbar [38;5;241m=[39m [38;5;28mself[39m
[0;32m-> 2844[0m [38;5;28mself[39m[38;5;241m.[39m_nav_stack [38;5;241m=[39m [43mcbook[49m[38;5;241;43m.[39;49m[43m_Stack[49m()
[1;32m   2845[0m [38;5;66;03m# This cursor will be set after the initial draw.[39;00m
[1;32m   2846[0m [38;5;28mself[39m[38;5;241m.[39m_last_cursor [38;5;241m=[39m tools[38;5;241m.[39mCursors[38;5;241m.[39mPOINTER

File [0;32m~/opt/anaconda3/lib/python3.9/site-packages/matplotlib/_api/__init__.py:217[0m, in [0;36mcaching_module_getattr.<locals>.__getattr__[0;34m(name)[0m
[1;32m    215[0m [38;5;28;01mif[39;00m name [38;5;129;01min[39;00m props:
[1;32m    216[0m     [38;5;28;01mreturn[39;00m props[name][38;5;241m.[39m[38;5;21m__get__[39m(instance)
[0;32m--> 217[0m [38;5;28;01mraise[39;00m [38;5;167;01mAttributeError[39;00m(
[1;32m    218[0m     [38;5;124mf[39m[38;5;124m"[39m[38;5;124mmodule [39m[38;5;132;01m{[39;00m[38;5;28mcls[39m[38;5;241m.[39m[38;5;18m__module__[39m[38;5;132;01m!r}[39;00m[38;5;124m has no attribute [39m[38;5;132;01m{[39;00mname[38;5;132;01m!r}[39;00m[38;5;124m"[39m)

[0;31mAttributeError[0m: module 'matplotlib.cbook' has no attribute '_Stack'
AttributeError: module 'matplotlib.cbook' has no attribute '_Stack'

